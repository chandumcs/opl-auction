<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>OPL 2025 ‚Äî Admin Panel</title>

<style>
  body{font-family:"Segoe UI",Arial,sans-serif;background:#f4f7fb;margin:0;color:#001a33}
  header{background:#052f57;color:#fff;padding:20px 40px;font-size:20px;font-weight:600}
  .container{max-width:1200px;margin:30px auto;padding:20px}
  .card{background:#fff;border-radius:12px;padding:25px;margin-bottom:25px;
        box-shadow:0 4px 12px rgba(0,0,0,.05)}
  .row{display:flex;gap:15px;flex-wrap:wrap;margin-bottom:10px}
  label{display:block;font-weight:500;margin-bottom:6px}
  input,select{padding:10px;width:100%;border:1px solid #cdd9ea;border-radius:8px;font-size:15px}
  input:focus,select:focus{outline:none;border-color:#007bff;box-shadow:0 0 3px #80bdff}
  button{padding:10px 16px;border:none;border-radius:8px;cursor:pointer;font-size:15px}
  .btn-primary{background:#007bff;color:#fff}
  .btn-success{background:#28a745;color:#fff}
  .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px}
  .player-card{background:#003d82;color:#fff;padding:14px;border-radius:10px;cursor:pointer;transition:.2s}
  .player-card:hover{background:#0050a8}
  .player-card.selected{background:#28a745}
  .summary{margin-top:15px;font-size:16px;background:#eef4ff;padding:10px;border-radius:8px}
  footer{background:#052f57;color:#fff;text-align:center;padding:15px;margin-top:40px;border-radius:8px 8px 0 0}
</style>
</head>

<body>
<header>üèè OPL 2025 ‚Äî Admin Player Management</header>

<div class="container">
  <div class="card">
    <div class="row">
      <div style="flex:2">
        <label>Search Player</label>
        <input id="search" placeholder="Type to search by name‚Ä¶" />
      </div>
      <div style="flex:1">
        <label>Type (A/B)</label>
        <select id="typeSelect">
          <option value="">Select Type</option>
          <option value="A">A ‚Äî Class 1 (‚Çπ50 L)</option>
          <option value="B">B ‚Äî Class 2 (‚Çπ20 L)</option>
        </select>
      </div>
      <div style="flex:1">
        <label>Base Price (‚Çπ)</label>
        <input type="number" id="basePrice" placeholder="Auto-set by Type" />
      </div>
      <div style="flex:1">
        <label>Owner (Optional)</label>
        <input id="owner" placeholder="Enter owner name‚Ä¶" />
      </div>
    </div>
    <button class="btn-primary" id="applyBtn">Apply Base Price</button>
    <button class="btn-success" id="saveBtn">Save to Firebase</button>
    <div id="summary" class="summary" style="display:none"></div>
  </div>

  <div class="card">
    <h3>All Players</h3>
    <div class="grid" id="playerGrid"></div>
  </div>
</div>

<footer>¬© 2025 Olive Crypto Systems Pvt. Ltd.</footer>

<!-- Firebase SDK (v9 compat for simplicity) -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

<script>
/* ===== FIREBASE CONFIG (INSERT YOUR REAL DETAILS) ===== */
const firebaseConfig = {
  apiKey:"YOUR_KEY",
  authDomain:"YOUR_DOMAIN",
  databaseURL:"https://opl-2025-season-2-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId:"opl-2025-season-2",
  storageBucket:"opl-2025-season-2.appspot.com",
  messagingSenderId:"282929654033",
  appId:"1:282929654033:web:535ab2b78937cdfa2b04b0"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

/* ===== PLAYER LIST PLACEHOLDER ‚Äì PASTE FULL LIST IN NEXT STEP ===== */
const players = [];

/* ===== UI LOGIC ===== */
let selectedPlayer = null;
const grid = document.getElementById('playerGrid');
const search = document.getElementById('search');
const typeSelect = document.getElementById('typeSelect');
const basePrice = document.getElementById('basePrice');
const owner = document.getElementById('owner');
const summary = document.getElementById('summary');

function renderPlayers(filter=""){
 grid.innerHTML = "";
 players.filter(p => p.name.toLowerCase().includes(filter.toLowerCase()))
 .forEach(p=>{
  const div = document.createElement("div");
  div.className = "player-card";
  div.innerHTML = `<strong>${p.name}</strong><br><small>${p.category}</small><br><span>${p.type}</span>`;
  div.onclick = ()=>selectPlayer(p,div);
  if(selectedPlayer && selectedPlayer.name===p.name) div.classList.add("selected");
  grid.appendChild(div);
 });
}

function selectPlayer(p,div){
 document.querySelectorAll('.player-card').forEach(el=>el.classList.remove('selected'));
 div.classList.add('selected');
 selectedPlayer = p;
 typeSelect.value = p.type;
 basePrice.value = p.type==="A"?5000000:2000000;
 owner.value = p.owner || "";
 updateSummary();
}

typeSelect.addEventListener('change',()=>{
 if(typeSelect.value==="A") basePrice.value=5000000;
 else if(typeSelect.value==="B") basePrice.value=2000000;
});

document.getElementById('applyBtn').onclick=()=>{
 if(!selectedPlayer) return alert("Select a player first!");
 selectedPlayer.type = typeSelect.value;
 selectedPlayer.basePrice = Number(basePrice.value)||0;
 selectedPlayer.owner = owner.value;
 updateSummary();
};

function updateSummary(){
 if(!selectedPlayer) return(summary.style.display="none");
 summary.style.display="block";
 summary.innerHTML =
  `<b>${selectedPlayer.name}</b> (${selectedPlayer.type}) ‚Äî ‚Çπ${selectedPlayer.basePrice.toLocaleString()}<br>
  Category: ${selectedPlayer.category} | Location: ${selectedPlayer.location}<br>
  Owner: ${selectedPlayer.owner || "None"}`;
}

search.addEventListener('input',()=>renderPlayers(search.value));

document.getElementById('saveBtn').onclick=()=>{
 if(!selectedPlayer) return alert("No player selected");
 db.ref("players/"+selectedPlayer.name.replace(/\s+/g,"_")).set(selectedPlayer)
  .then(()=>alert("‚úÖ Saved to Firebase"))
  .catch(e=>alert("Error: "+e.message));
};

renderPlayers();
</script>
</body>
</html>

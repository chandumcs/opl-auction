<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Olive Premier League 2025</title>

  <style>
    :root{
      --navy: #053a5b;
      --accent: #ff9a1c;
      --muted: #f3f7fb;
      --card: #fff;
    }
    html,body{height:100%;margin:0;font-family: "Segoe UI", Roboto, Arial, sans-serif;background:var(--muted);color:var(--navy);}
    .wrap {
      min-height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:40px 20px;
      box-sizing:border-box;
    }

    .splash {
      text-align:center;
    }

    .logo {
      width:220px;height:auto;margin:0 auto 18px auto;display:block;
    }

    h1{
      margin:0 0 18px 0;
      color:var(--accent);
      font-size:28px;
      font-weight:700;
    }

    /* card */
    .card {
      width:100%;
      max-width:760px;
      background:var(--card);
      border-radius:12px;
      box-shadow: 0 10px 30px rgba(10,30,50,0.08);
      padding:36px;
      box-sizing:border-box;
      text-align:center;
    }

    .role-row{display:flex;gap:18px;justify-content:center;margin-top:10px;flex-wrap:wrap}
    .btn {
      background:var(--navy);
      color:white;
      border:none;
      padding:12px 26px;
      border-radius:8px;
      cursor:pointer;
      font-size:16px;
      font-weight:600;
    }
    .btn.alt{background:#0b74ff}
    .btn.white{background:#fff;color:var(--navy);border:1px solid #e6eefb}

    /* PIN modal box (inline) */
    .pin-box{
      margin-top:16px;
      display:inline-block;
      text-align:center;
      background:linear-gradient(180deg,#ffffff, #fbfdff);
      padding:20px 26px;border-radius:10px;border:1px solid #e6eefb;
    }
    input[type="password"]{
      padding:10px 12px;font-size:18px;border-radius:8px;border:1px solid #cfdfea;width:180px;text-align:center;outline:none;
    }
    .error { color:#d23434;margin-top:8px;font-weight:600; }

    footer{position:fixed;left:0;right:0;bottom:0;padding:8px 12px;text-align:center;color:#7996b2;font-size:13px}

    /* animation small */
    .fade-in { animation: fadeIn 600ms ease both; }
    @keyframes fadeIn { from{ opacity:0; transform:translateY(8px)} to{opacity:1; transform:none;} }

    /* small responsive */
    @media (max-width:520px){
      .card { padding:20px; margin: 10px; }
      .logo { width:160px; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card fade-in" id="mainCard">
      <!-- logo (path relative to repository: assets/logo.png) -->
      <img src="assets/logo.png" alt="Olive Logo" class="logo" id="logoImg" onerror="logoError()" />
      <h1>Olive Premier League 2025</h1>

      <!-- role selection -->
      <p style="color:#345a7a;margin:0 0 18px 0;font-weight:600">Select your role to continue</p>

      <div class="role-row">
        <button class="btn" id="adminBtn">Admin</button>
        <button class="btn alt" id="viewerBtn">User (Viewer)</button>
      </div>

      <!-- PIN area (hidden until admin clicked) -->
      <div id="pinArea" style="margin-top:18px;display:none" class="fade-in">
        <div class="pin-box">
          <div style="font-weight:700;margin-bottom:8px">ðŸ”’ Admin PIN required</div>
          <input id="pinInput" type="password" inputmode="numeric" maxlength="4" placeholder="Enter 4-digit PIN" />
          <div style="margin-top:10px;">
            <button class="btn white" id="pinSubmit">Submit</button>
            <button class="btn white" id="pinCancel" style="margin-left:8px">Cancel</button>
          </div>
          <div id="pinError" class="error" style="display:none"></div>
        </div>
      </div>
    </div>
  </div>

  <footer>Â© 2025 Olive Crypto Systems Pvt. Ltd.</footer>

<script>
  // CONFIG
  const ADMIN_PIN = "7287";            // PIN you requested
  const ADMIN_TARGET = "auction.html"; // where admin should be taken
  const VIEWER_TARGET = "live.html";   // viewer page

  // DOM
  const adminBtn = document.getElementById("adminBtn");
  const viewerBtn = document.getElementById("viewerBtn");
  const pinArea  = document.getElementById("pinArea");
  const pinInput = document.getElementById("pinInput");
  const pinSubmit = document.getElementById("pinSubmit");
  const pinCancel = document.getElementById("pinCancel");
  const pinError = document.getElementById("pinError");
  const logoImg = document.getElementById("logoImg");

  // show pin area
  adminBtn.addEventListener("click", ()=> {
    pinError.style.display = "none";
    pinInput.value = "";
    pinArea.style.display = "block";
    pinInput.focus();
    // small scroll so user sees it on small screens
    setTimeout(()=> pinInput.scrollIntoView({behavior:"smooth", block:"center"}), 50);
  });

  // viewer redirect
  viewerBtn.addEventListener("click", ()=> {
    // open live viewer
    window.location.href = VIEWER_TARGET;
  });

  // submit pin either via button or Enter key
  pinSubmit.addEventListener("click", verifyPin);
  pinInput.addEventListener("keydown", (ev)=>{
    if(ev.key === "Enter") verifyPin();
  });

  pinCancel.addEventListener("click", ()=>{
    pinArea.style.display = "none";
    pinError.style.display = "none";
  });

  function verifyPin(){
    const val = (pinInput.value || "").trim();
    if(!/^\d{4}$/.test(val)){
      pinError.textContent = "Enter the 4-digit PIN.";
      pinError.style.display = "block";
      return;
    }
    if(val === ADMIN_PIN){
      // correct -> redirect to admin page
      // small delay so user sees it
      pinError.style.display = "none";
      // Use location.href to navigate (works on GitHub Pages)
      window.location.href = ADMIN_TARGET;
    } else {
      pinError.textContent = "Incorrect PIN â€” try again.";
      pinError.style.display = "block";
      pinInput.select();
    }
  }

  // If logo not found, show a colored placeholder and avoid broken icon
  function logoError(){
    logoImg.style.display = "none";
    const h1 = document.querySelector("h1");
    const ph = document.createElement("div");
    ph.innerText = "Olive";
    ph.style.display = "inline-block";
    ph.style.padding = "10px 18px";
    ph.style.borderRadius = "8px";
    ph.style.background = "linear-gradient(90deg,#053a5b,#0b74ff)";
    ph.style.color = "#fff";
    ph.style.fontWeight = "800";
    ph.style.letterSpacing = "0.6px";
    ph.style.margin = "0 auto 10px auto";
    h1.parentNode.insertBefore(ph, h1);
  }

  // accessibility: focus management if user lands with pin param ?admin
  (function checkQuery(){
    const q = new URLSearchParams(window.location.search);
    if(q.get("admin")==="1"){ adminBtn.click(); }
  })();
</script>
</body>
</html>
